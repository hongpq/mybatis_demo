<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <title>update</title>

</head>
<body>
<form action="">
  <table>
    <tr align="center">
      <td colspan="2">修改密码</td>
    </tr>
    <tr>
      <td>用户名</td>
      <td><input type="text" id="username"></td>
    </tr>
    <tr>
      <td>旧密码</td>
      <td><input type="text" id="password"></td>
    </tr>
    <tr>
      <td>新密码</td>
      <td><input type="text" id="newpassword"></td>
    </tr>
    <tr align="center"  >
      <td colspan="4">
        <button type="button" class="updateBtn">提交修改</button>
      </td>
    </tr>
    <tr align="center"  >
      <td colspan="4">
        <a href="http://localhost:8082/html/login.html">
          <button type="button" class="toLoginBtn">返回登陆</button>
        </a>
      </td>
    </tr>
    <tr align="center"  >
      <td colspan="5">
        <a href="http://localhost:8082/html/register.html">
          <button type="button" class="toRegisterBtn">新用户注册</button>
        </a>
      </td>
    </tr>
  </table>
</form>

</body>
<html>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
  var userName=document.getElementsByTagName("input")[0]
  var password=document.getElementsByTagName("input")[1]
  var newpassword=document.getElementsByTagName("input")[2]

  $(document).ready(function(){
    $(".updateBtn").click(function(){
      updatedata=$.ajax({url: "http://localhost:8082/user/update?username="+userName.value+"&password="+password.value+"&newpassword="+newpassword.value, type: "post", async:false});
      var isupdate=updatedata.responseJSON
      if(isupdate == 1){
        alert("密码修改成功！")
      }else if(isupdate == -98){
        alert("用户名不存在")
      }else if(isupdate == -100){
        alert("旧密码错误")
      }else{
        alert("密码修改失败！")
      }
    });
  });

</script>




<!--<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>